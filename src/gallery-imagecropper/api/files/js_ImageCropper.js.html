<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js\ImageCropper.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/ImageCropper.html">ImageCropper</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/gallery-imagecropper.html">gallery-imagecropper</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js\ImageCropper.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">

&#x2F;**
 * @description &lt;p&gt;Creates an Image Cropper control.&lt;&#x2F;p&gt;
 * @requires widget, resize, gallery-event-arrow
 * @module gallery-imagecropper
 *&#x2F;

var Lang = Y.Lang,
	isNumber = Lang.isNumber,
	YArray = Y.Array,
	getClassName = Y.ClassNameManager.getClassName,
	IMAGE_CROPPER = &#x27;imagecropper&#x27;,
	RESIZE = &#x27;resize&#x27;,
	MASK = &#x27;mask&#x27;,
	KNOB = &#x27;knob&#x27;,
	
	_classNames = {
		cropMask: getClassName(IMAGE_CROPPER, MASK),
		resizeKnob: getClassName(IMAGE_CROPPER, RESIZE, KNOB),
		resizeMask: getClassName(IMAGE_CROPPER, RESIZE, MASK)
	},

&#x2F;**
 * @constructor
 * @class ImageCropper
 * @description &lt;p&gt;Creates an Image Cropper control.&lt;&#x2F;p&gt;
 * @extends Widget
 * @param {Object} config Object literal containing configuration parameters.
*&#x2F;
&#x2F;**
 * The identity of the widget.
 *
 * @property ImageCropper.NAME
 * @type String
 * @default &#x27;imagecropper&#x27;
 * @readOnly
 * @protected
 * @static
 *&#x2F;
ImageCropper = Y.Base.create(&#x27;imagecropper&#x27;, Y.Widget, [], {
	
	CONTENT_TEMPLATE: &#x27;&lt;img&#x2F;&gt;&#x27;,
	
	_toggleKeys: function (e) {
		if (e.newVal) {
			this._bindArrows();
		} else {
			this._unbindArrows();
		}
	},
	
	_moveResizeKnob: function (e) {
		e.preventDefault(); &#x2F;&#x2F; prevent scroll in Firefox
		
		var resizeKnob = this.get(&#x27;resizeKnob&#x27;),
			contentBox = this.get(&#x27;contentBox&#x27;),
			
			knobWidth = resizeKnob.get(&#x27;offsetWidth&#x27;),
			knobHeight = resizeKnob.get(&#x27;offsetHeight&#x27;),
		
			tick = e.shiftKey ? this.get(&#x27;shiftKeyTick&#x27;) : this.get(&#x27;keyTick&#x27;),
			direction = e.direction,
			
			tickH = direction.indexOf(&#x27;w&#x27;) &gt; -1 ? -tick : direction.indexOf(&#x27;e&#x27;) &gt; -1 ? tick : 0,
			tickV = direction.indexOf(&#x27;n&#x27;) &gt; -1 ? -tick : direction.indexOf(&#x27;s&#x27;) &gt; -1 ? tick : 0,
			
			x = resizeKnob.getX() + tickH,
			y = resizeKnob.getY() + tickV,
			
			minX = contentBox.getX(),
			minY = contentBox.getY(),
			
			maxX = minX + contentBox.get(&#x27;offsetWidth&#x27;) - knobWidth,
			maxY = minY + contentBox.get(&#x27;offsetHeight&#x27;) - knobHeight,
			
			o;
			
		if (x &lt; minX) {
			x = minX;
		} else if (x &gt; maxX) {
			x = maxX;
		}
		if (y &lt; minY) {
			y = minY;
		} else if (y &gt; maxY) {
			y = maxY;
		}
		resizeKnob.setXY([x, y]);
		
		o = {
			width: knobWidth,
			height: knobHeight,
			left: resizeKnob.get(&#x27;offsetLeft&#x27;),
			top: resizeKnob.get(&#x27;offsetTop&#x27;),
			sourceEvent: e.type
		};
		
		o[e.type + &#x27;Event&#x27;] = e;
		this.fire(&#x27;crop:start&#x27;, o);
		this.fire(&#x27;crop:crop&#x27;, o);
		this.fire(&#x27;crop:end&#x27;, o);
		
		this._syncResizeMask();
	},
	
	_defCropMaskValueFn: function () {
		return Y.Node.create(ImageCropper.CROP_MASK_TEMPLATE);
	},

	_defResizeKnobValueFn: function () {
		return Y.Node.create(ImageCropper.RESIZE_KNOB_TEMPLATE);
	},

	_defResizeMaskValueFn: function () {
		return Y.Node.create(ImageCropper.RESIZE_MASK_TEMPLATE);
	},

	_renderCropMask: function (boundingBox) {
		var node = this.get(&#x27;cropMask&#x27;);
		if (!node.inDoc()) {
			boundingBox.append(node);
		}
	},

	_renderResizeKnob: function (boundingBox) {
		var node = this.get(&#x27;resizeKnob&#x27;);
		if (!node.inDoc()) {
			boundingBox.append(node);
		}
		node.setStyle(&#x27;backgroundImage&#x27;, &#x27;url(&#x27; + this.get(&#x27;source&#x27;) + &#x27;)&#x27;);
	},

	_renderResizeMask: function () {
		var node = this.get(&#x27;resizeMask&#x27;);
		if (!node.inDoc()) {
			this.get(&#x27;resizeKnob&#x27;).append(node);
		}
	},

	_handleSrcChange: function (e) {
		this.get(&#x27;contentBox&#x27;).set(&#x27;src&#x27;, e.newVal);
		this.get(&#x27;cropResizeMask&#x27;).setStyle(&#x27;backgroundImage&#x27;, &#x27;url(&#x27; + e.newVal + &#x27;)&#x27;);
	},
	
	_syncResizeKnob: function () {
		var initialXY = this.get(&#x27;initialXY&#x27;);
		
		this.get(&#x27;resizeKnob&#x27;).setStyles({
			left: initialXY[0],
			top: initialXY[1],
			width: this.get(&#x27;initWidth&#x27;),
			height: this.get(&#x27;initHeight&#x27;)
		});
	},
	
	_syncResizeMask: function () {
		var resizeKnob = this.get(&#x27;resizeKnob&#x27;);
		resizeKnob.setStyle(&#x27;backgroundPosition&#x27;, (-resizeKnob.get(&#x27;offsetLeft&#x27;)) + &#x27;px &#x27; + (-resizeKnob.get(&#x27;offsetTop&#x27;)) + &#x27;px&#x27;);
	},
	
	_syncResizeAttr: function (e) {
		if (this._resize) {
			this._resize.con.set(e.attrName, e.newVal);
		}
	},
	
	_icEventProxy: function (target, ns, eventType) {
		var sourceEvent = ns + &#x27;:&#x27; + eventType,
			resizeKnob = this.get(&#x27;resizeKnob&#x27;);
			
		target.on(sourceEvent, function (e) {
			
			var o = {
				width: resizeKnob.get(&#x27;offsetWidth&#x27;),
				height: resizeKnob.get(&#x27;offsetHeight&#x27;),
				left: resizeKnob.get(&#x27;offsetLeft&#x27;),
				top: resizeKnob.get(&#x27;offsetTop&#x27;)
			};
			o[ns + &#x27;Event&#x27;] = e;
			
			&#x2F;**
			* @event resize:start
			* @description Relay of the Resize utility event.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;resizeEvent&lt;&#x2F;dt&gt;&lt;dd&gt;The Event Facade object provided by the Resize utility.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event resize:resize
			* @description Relay of the Resize utility event.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;resizeEvent&lt;&#x2F;dt&gt;&lt;dd&gt;The Event Facade object provided by the Resize utility.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event resize:end
			* @description Relay of the Resize utility event.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;resizeEvent&lt;&#x2F;dt&gt;&lt;dd&gt;The Event Facade object provided by the Resize utility.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event drag:start
			* @description Relay of the Drag utility event.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;drag&lt;&#x2F;dt&gt;&lt;dd&gt;The Event Facade object provided by the Drag utility.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event drag:resize
			* @description Relay of the Drag utility event.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;drag&lt;&#x2F;dt&gt;&lt;dd&gt;The Event Facade object provided by the Drag utility.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event drag:end
			* @description Relay of the Drag utility event.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;drag&lt;&#x2F;dt&gt;&lt;dd&gt;The Event Facade object provided by the Drag utility.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			this.fire(sourceEvent, o);
			
			o.sourceEvent = sourceEvent;
			
			&#x2F;**
			* @event crop:start
			* @description Fires at the start of a crop operation. Unifies drag:start and and resize:start.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;left&lt;&#x2F;dt&gt;&lt;dd&gt;The current X position of the crop area relative to the base image.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;top&lt;&#x2F;dt&gt;&lt;dd&gt;The current Y position of the crop area relative to the base image.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;width&lt;&#x2F;dt&gt;&lt;dd&gt;The new width of the crop area.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;height&lt;&#x2F;dt&gt;&lt;dd&gt;The new height of the crop area.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event crop:crop
			* @description Fires every time the crop area changes. Unifies drag:drag and resize:resize.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;left&lt;&#x2F;dt&gt;&lt;dd&gt;The current X position of the crop area relative to the base image.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;top&lt;&#x2F;dt&gt;&lt;dd&gt;The current Y position of the crop area relative to the base image.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;width&lt;&#x2F;dt&gt;&lt;dd&gt;The new width of the crop area.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;height&lt;&#x2F;dt&gt;&lt;dd&gt;The new height of the crop area.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			&#x2F;**
			* @event crop:end
			* @description Fires at the end of a crop operation. Unifies drag:end and resize:end.
			* @param {EventFacade} event An Event Facade object with the following specific property added:
			* &lt;dl&gt;
			* &lt;dt&gt;left&lt;&#x2F;dt&gt;&lt;dd&gt;The current X position of the crop area relative to the base image.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;top&lt;&#x2F;dt&gt;&lt;dd&gt;The current Y position of the crop area relative to the base image.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;width&lt;&#x2F;dt&gt;&lt;dd&gt;The new width of the crop area.&lt;&#x2F;dd&gt;
			* &lt;dt&gt;height&lt;&#x2F;dt&gt;&lt;dd&gt;The new height of the crop area.&lt;&#x2F;dd&gt;
			* &lt;&#x2F;dl&gt;
			* @type {CustomEvent}
			*&#x2F;
			this.fire(&#x27;crop:&#x27; + (eventType == ns ? &#x27;crop&#x27; : eventType), o);
			
		}, this);
	},
	
	_bindArrows: function () {
		this._arrowHandler = this.get(&#x27;resizeKnob&#x27;).on(&#x27;arrow&#x27;, this._moveResizeKnob, this);
	},
	
	_unbindArrows: function () {
		if (this._arrowHandler) {
			this._arrowHandler.detach();
		}
	},
	
	_bindResize: function (resizeKnob, contentBox) {
		var resize = this._resize = new Y.Resize({
			node: resizeKnob
		});
		resize.on(&#x27;resize:resize&#x27;, this._syncResizeMask, this);
		resize.plug(Y.Plugin.ResizeConstrained, {
			constrain: contentBox,
			minHeight: this.get(&#x27;minHeight&#x27;),
			minWidth: this.get(&#x27;minWidth&#x27;),
			preserveRatio: this.get(&#x27;preserveRatio&#x27;)
		});
		YArray.each(ImageCropper.RESIZE_EVENTS, Y.bind(this._icEventProxy, this, resize, &#x27;resize&#x27;));
	},
	
	_bindDrag: function (resizeKnob, contentBox) {
		var drag = this._drag = new Y.DD.Drag({
			node: resizeKnob,
			handles: [this.get(&#x27;resizeMask&#x27;)]
		});
		drag.on(&#x27;drag:drag&#x27;, this._syncResizeMask, this);
		drag.plug(Y.Plugin.DDConstrained, {
			constrain2node: contentBox
		});
		YArray.each(ImageCropper.DRAG_EVENTS, Y.bind(this._icEventProxy, this, drag, &#x27;drag&#x27;));
	},
	
	initializer: function () {
		this.set(&#x27;initialXY&#x27;, this.get(&#x27;initialXY&#x27;) || [10, 10]);
		this.set(&#x27;initWidth&#x27;, this.get(&#x27;initWidth&#x27;));
		this.set(&#x27;initHeight&#x27;, this.get(&#x27;initHeight&#x27;));

		this.after(&#x27;sourceChange&#x27;, this._handleSrcChange);
		this.after(&#x27;useKeysChange&#x27;, this._toggleKeys);
		
		this._icHandlers = [];
		
		YArray.each(ImageCropper.RESIZE_ATTRS, function (attr) {
			this.after(attr + &#x27;Change&#x27;, this._syncResizeAttr);
		}, this);
	},
	
	renderUI: function () {
		var boundingBox = this.get(&#x27;boundingBox&#x27;);
		
		this._renderCropMask(boundingBox);
		this._renderResizeKnob(boundingBox);
		this._renderResizeMask();
	},
	
	bindUI: function () {
		var contentBox = this.get(&#x27;contentBox&#x27;),
			resizeKnob = this.get(&#x27;resizeKnob&#x27;);
			
		this._icHandlers.push(
			resizeKnob.on(&#x27;focus&#x27;, this._attachKeyBehavior, this),
			resizeKnob.on(&#x27;blur&#x27;, this._detachKeyBehavior, this),
			resizeKnob.on(&#x27;mousedown&#x27;, resizeKnob.focus, resizeKnob)
		);
		
		this._bindArrows();
		
		this._bindResize(resizeKnob, contentBox);
		this._bindDrag(resizeKnob, contentBox);
	},
	
	syncUI: function () {
		this.get(&#x27;contentBox&#x27;).set(&#x27;src&#x27;, this.get(&#x27;source&#x27;));
		
		this._syncResizeKnob();
		this._syncResizeMask();
	},
	
	&#x2F;**
	 * Returns the coordinates needed to crop the image
	 * 
	 * @method getCropCoords
	 * @return {Object} The top, left, height, width and image url of the image being cropped
	 *&#x2F;
	getCropCoords: function () {
		var resizeKnob = this.get(&#x27;resizeKnob&#x27;),
			result, xy;
		
		if (resizeKnob.inDoc()) {
			result = {
				left: resizeKnob.get(&#x27;offsetLeft&#x27;),
				top: resizeKnob.get(&#x27;offsetTop&#x27;),
				width: resizeKnob.get(&#x27;offsetWidth&#x27;),
				height: resizeKnob.get(&#x27;offsetHeight&#x27;)
			};
		} else {
			xy = this.get(&#x27;initialXY&#x27;);
			result = {
				left: xy[0],
				top: xy[1],
				width: this.get(&#x27;initWidth&#x27;),
				height: this.get(&#x27;initHeight&#x27;)
			};
		}
		result.image = this.get(&#x27;source&#x27;);
		
		return result;
	},
	
	&#x2F;**
	 * Resets the crop element back to it&#x27;s original position
	 * 
	 * @method reset
	 * @chainable
	 *&#x2F;
	reset: function () {
		this.get(&#x27;resizeKnob&#x27;).setXY(this.get(&#x27;initialXY&#x27;)).setStyles({
			width: this.get(&#x27;initWidth&#x27;),
			height: this.get(&#x27;initHeight&#x27;)
		});
		this._syncResizeMask();
		return this;
	},
	
	destructor: function () {
		if (this._resize) {
			this._resize.destroy();
		}
		if (this._drag) {
			this._drag.destroy();
		}
		
		YArray.each(this._icHandlers, function (handler) {
			handler.detach();
		});
		this._unbindArrows();
		
		this._drag = this._resize = null;
	}
	
}, {
	
	&#x2F;**
	 * Template that will contain the ImageCropper&#x27;s mask.
	 *
	 * @property ImageCropper.CROP_MASK_TEMPLATE
	 * @type {HTML}
	 * @default &amp;lt;div class=&quot;[...-mask]&quot;&gt;&amp;lt;&#x2F;div&gt;
	 * @protected
	 * @static
	 *&#x2F;
	CROP_MASK_TEMPLATE: &#x27;&lt;div class=&quot;&#x27; + _classNames.cropMask + &#x27;&quot;&gt;&lt;&#x2F;div&gt;&#x27;,
	&#x2F;**
	 * Template that will contain the ImageCropper&#x27;s resize node.
	 *
	 * @property ImageCropper.RESIZE_KNOB_TEMPLATE
	 * @type {HTML}
	 * @default &amp;lt;div class=&quot;[...-resize-knob]&quot; tabindex=&quot;0&quot;&gt;&amp;lt;&#x2F;div&gt;
	 * @protected
	 * @static
	 *&#x2F;
	RESIZE_KNOB_TEMPLATE: &#x27;&lt;div class=&quot;&#x27; + _classNames.resizeKnob + &#x27;&quot; tabindex=&quot;0&quot;&gt;&lt;&#x2F;div&gt;&#x27;,
	&#x2F;**
	 * Template that will contain the ImageCropper&#x27;s resize mask.
	 *
	 * @property ImageCropper.RESIZE_MASK_TEMPLATE
	 * @type {HTML}
	 * @default &amp;lt;div class=&quot;[...-resize-mask]&quot;&gt;&amp;lt;&#x2F;div&gt;
	 * @protected
	 * @static
	 *&#x2F;
	RESIZE_MASK_TEMPLATE: &#x27;&lt;div class=&quot;&#x27; + _classNames.resizeMask + &#x27;&quot;&gt;&lt;&#x2F;div&gt;&#x27;,
	
	&#x2F;**
	 * Array of events to relay from the Resize utility to the ImageCropper 
	 *
	 * @property ImageCropper.RESIZE_EVENTS
	 * @type {Array}
	 * @private
	 * @static
	 *&#x2F;
	RESIZE_EVENTS: [&#x27;start&#x27;, &#x27;resize&#x27;, &#x27;end&#x27;],
	&#x2F;**
	 * Array of attributes to relay from the ImageCropper to the Resize utility 
	 *
	 * @property ImageCropper.RESIZE_ATTRS
	 * @type {Array}
	 * @private
	 * @static
	 *&#x2F;
	RESIZE_ATTRS: [&#x27;minWidth&#x27;, &#x27;minHeight&#x27;, &#x27;preserveRatio&#x27;],
	&#x2F;**
	 * Array of events to relay from the Drag utility to the ImageCropper 
	 *
	 * @property ImageCropper.DRAG_EVENTS
	 * @type {Array}
	 * @private
	 * @static
	 *&#x2F;
	DRAG_EVENTS: [&#x27;start&#x27;, &#x27;drag&#x27;, &#x27;end&#x27;],
	
	HTML_PARSER: {
		
		source: function (srcNode) {
			return srcNode.get(&#x27;src&#x27;);
		},
		
		cropMask: &#x27;.&#x27; + _classNames.cropMask,
		resizeKnob: &#x27;.&#x27; + _classNames.resizeKnob,
		resizeMask: &#x27;.&#x27; + _classNames.resizeMask
		
	},
	
	&#x2F;**
	 * Static property used to define the default attribute configuration of
	 * the Widget.
	 *
	 * @property ImageCropper.ATTRS
	 * @type {Object}
	 * @protected
	 * @static
	 *&#x2F;
	ATTRS: {
		
		&#x2F;**
		 * The source attribute of the image we are cropping
		 *
		 * @attribute source
		 * @type {String}
		 *&#x2F;
		source: { value: &#x27;&#x27; },
		
		&#x2F;**
		 * The resize mask used to highlight the crop area
		 *
		 * @attribute resizeMask
		 * @type {Node}
		 *&#x2F;
		resizeMask: {
			setter: function (node) {
				node = Y.one(node);
				if (node) {
					node.addClass(_classNames.resizeMask);
				}
				return node;
			},

			valueFn: &#x27;_defResizeMaskValueFn&#x27;
		},
		
		&#x2F;**
		 * The resized element
		 *
		 * @attribute resizeKnob
		 * @type {Node}
		 *&#x2F;
		resizeKnob: {
			setter: function (node) {
				node = Y.one(node);
				if (node) {
					node.addClass(_classNames.resizeKnob);
				}
				return node;
			},

			valueFn: &#x27;_defResizeKnobValueFn&#x27;
		},
		
		&#x2F;**
		 * Element used to shadow the part of the image we&#x27;re not cropping
		 *
		 * @attribute cropMask
		 * @type {Node}
		 *&#x2F;
		cropMask: {
			setter: function (node) {
				node = Y.one(node);
				if (node) {
					node.addClass(_classNames.cropMask);
				}
				return node;
			},

			valueFn: &#x27;_defCropMaskValueFn&#x27;
		},
		
		&#x2F;**
		 * Array of the XY position that we need to set the crop element to when we build it
		 *
		 * @attribute initialXY
		 * @type {Array}
		 * @default [10, 10]
		 *&#x2F;
		initialXY: {
			validator: Lang.isArray
		},
		
		&#x2F;**
		 * The pixel tick for the arrow keys
		 *
		 * @attribute keyTick
		 * @type {Number}
		 * @default 1
		 *&#x2F;
		keyTick: {
			value: 1,
			validator: isNumber
		},
		
		&#x2F;**
		 * The pixel tick for shift + the arrow keys
		 *
		 * @attribute shiftKeyTick
		 * @type {Number}
		 * @default 10
		 *&#x2F;
		shiftKeyTick: {
			value: 10,
			validator: isNumber
		},
		
		&#x2F;**
		 * Should we use the Arrow keys to position the crop element
		 *
		 * @attribute useKeys
		 * @type {Boolean}
		 * @default true
		 *&#x2F;
		useKeys: {
			value: true,
			validator: Lang.isBoolean
		},
		
		&#x2F;**
		 * Show the Resize and Drag utilities status
		 *
		 * @attribute status
		 * @type {Boolean}
		 * @readOnly
		 *&#x2F;
		status: {
			readOnly: true,
			getter: function () {
				var resizing = this._resize ? this._resize.get(&#x27;resizing&#x27;) : false,
					drag = this._drag ? this._drag.get(&#x27;dragging&#x27;) : false;
				return resizing || drag;
			}
		},
		
		&#x2F;**
		 * MinHeight of the crop area
		 *
		 * @attribute minHeight
		 * @type {Number}
		 * @default 50
		 *&#x2F;
		minHeight: {
			value: 50,
			validator: isNumber
		},
		
		&#x2F;**
		 * MinWidth of the crop area
		 *
		 * @attribute minWidth
		 * @type {Number}
		 * @default 50
		 *&#x2F;
		minWidth: {
			value: 50,
			validator: isNumber
		},
		
		&#x2F;**
		 * Set the preserveRatio config option of the Resize Utlility
		 *
		 * @attribute preserveRatio
		 * @type {Boolean}
		 * @default false
		 *&#x2F;
		preserveRatio: {
			value: false,
			validator: Lang.isBoolean
		},
		
		&#x2F;**
		 * Set the initlal height of the crop area, defaults to minHeight
		 *
		 * @attribute initHeight
		 * @type {Number}
		 *&#x2F;
		initHeight: {
			value: 0,
			validator: isNumber,
			setter: function (value) {
				var minHeight = this.get(&#x27;minHeight&#x27;);
				return value &lt; minHeight ? minHeight : value;
			}
		},
		
		&#x2F;**
		 * Set the initlal width of the crop area, defaults to minWidth
		 *
		 * @attribute initWidth
		 * @type {Number}
		 *&#x2F;
		initWidth: {
			value: 0,
			validator: isNumber,
			setter: function (value) {
				var minWidth = this.get(&#x27;minWidth&#x27;);
				return value &lt; minWidth ? minWidth : value;
			}
		}
		
	}
	
});

Y.ImageCropper = ImageCropper;
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
