<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js\NodeDeferred.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.0pr4&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/io.html">io</a></li>
            
                <li><a href="..&#x2F;classes/io.Request.html">io.Request</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.NodeDeferred.html">Plugin.NodeDeferred</a></li>
            
                <li><a href="..&#x2F;classes/Promise.html">Promise</a></li>
            
                <li><a href="..&#x2F;classes/YUI.html">YUI</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/gallery-deferred.html">gallery-deferred</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js\NodeDeferred.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">

&#x2F;**
 * A deferred plugin for Node that has methods for dealing with asynchronous calls such as transition()
 * @class Plugin.NodeDeferred
 * @constructor
 * @extends Promise
 * @param {Object} config An object literal containing plugin configuration
 *&#x2F;
function NodeDeferred(config) {
	NodeDeferred.superclass.constructor.apply(this, arguments);
	this.host = config.host;
}

if (Y.Node &amp;&amp; Y.Plugin) {
	
	Y.extend(NodeDeferred, Y.Promise, null, {
		&#x2F;**
		 * Plugin namespace
		 * @property {String} NS
		 * @default &#x27;deferred&#x27;
		 * @static
		 *&#x2F;
		NS: &#x27;deferred&#x27;,
		
		&#x2F;**
		 * Imports a method from Y.Node so that they return instances of this same plugin representing promises
		 * @method deferMethod
		 * @param {String} method Name of the method to import from Y.Node
		 * @static
		 *&#x2F;
		deferMethod: function (method) {
			NodeDeferred.prototype[method] = function () {
				var args,
					deferred,
					callback;
				&#x2F;&#x2F; this.host[NS] === this means this is the first time the plugin is instanciated and plugged
				&#x2F;&#x2F; in that case it should be resolved, because it doesn&#x27;t represent any promises yet
				if (this.host.deferred === this) {
					this.resolve();
				}
				
				if (this.host[method]) {
					args = YArray(arguments);
					
					if (Lang.isFunction(args[args.length - 1])) {
						callback = args.pop();
					}
					
					deferred = this.defer(function (promise) {
						this.host[method].apply(this.host, args.concat([Y.bind(promise.resolve, promise)]));
					});
					if (callback) {
						deferred.done(callback);
					}
					return deferred;
					
				} else {
					if (Y.instanceOf(this.host, Y.NodeList) &amp;&amp; method == &#x27;load&#x27;) {
						Y.error(&#x27;NodeList doesn\&#x27;t have a &#x27; + method + &#x27;() method&#x27;);
					} else {
						Y.error(&#x27;Missing required module for &#x27; + method);
					}
				}
				return this;
			};
		},
		&#x2F;**
		 * Imports a method from Y.Node making it chainable but not returning promises
		 * @method importMethod
		 * @param {String} method Name of the method to import from Y.Node
		 * @static
		 *&#x2F;
		importMethod: function(method) {
			NodeDeferred.prototype[method] = function () {
				this.host[method].apply(this.host, arguments);
				return this;
			};
		}
	});
	
	&#x2F;**
	 * Deferred version of the Node method
	 * @method hide
	 * @return {NodeDeferred}
	 *&#x2F;
	&#x2F;**
	 * Deferred version of the Node method
	 * @method load
	 * @return {NodeDeferred}
	 *&#x2F;
	&#x2F;**
	 * Deferred version of the Node method
	 * @method show
	 * @return {NodeDeferred}
	 *&#x2F;
	&#x2F;**
	 * Deferred version of the Node method
	 * @method transition
	 * @return {NodeDeferred}
	 *&#x2F;
	&#x2F;**
	 * Deferred version of the Node method
	 * @method once
	 * @return {NodeDeferred}
	 *&#x2F;
	&#x2F;**
	 * Deferred version of the Node method
	 * @method onceAfter
	 * @return {NodeDeferred}
	 *&#x2F;
	Y.each([&#x27;hide&#x27;, &#x27;load&#x27;, &#x27;show&#x27;, &#x27;transition&#x27;, &#x27;once&#x27;, &#x27;onceAfter&#x27;], NodeDeferred.deferMethod);
	&#x2F;**
	 * Same as the Node method 
	 * @method addClass
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method append
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method appendTo
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method blur
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method clearData
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method destroy
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method empty
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method focus
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method insert
	 * @chainable
	 *&#x2F;
	Y.each([&#x27;addClass&#x27;, &#x27;append&#x27;, &#x27;appendTo&#x27;, &#x27;blur&#x27;, &#x27;clearData&#x27;, &#x27;destroy&#x27;, &#x27;empty&#x27;, &#x27;focus&#x27;, &#x27;insert&#x27;,
	&#x2F;**
	 * Same as the Node method 
	 * @method insertBefore
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method prepend
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method remove
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method removeAttribute
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method removeChild
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method removeClass
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method replaceChild
	 * @chainable
	 *&#x2F;
			&#x27;insertBefore&#x27;, &#x27;prepend&#x27;, &#x27;remove&#x27;, &#x27;removeAttribute&#x27;, &#x27;removeChild&#x27;, &#x27;removeClass&#x27;, &#x27;replaceChild&#x27;,
	&#x2F;**
	 * Same as the Node method 
	 * @method replaceClass
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method select
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method set
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setAttrs
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setContent
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setData
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setStyle
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setStyles
	 * @chainable
	 *&#x2F;
			&#x27;replaceClass&#x27;, &#x27;select&#x27;, &#x27;set&#x27;, &#x27;setAttrs&#x27;, &#x27;setContent&#x27;, &#x27;setData&#x27;, &#x27;setStyle&#x27;, &#x27;setStyles&#x27;, 
	&#x2F;**
	 * Same as the Node method 
	 * @method setX
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setXY
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method setY
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method simulate
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method swapXY
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method toggleClass
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method wrap
	 * @chainable
	 *&#x2F;
	&#x2F;**
	 * Same as the Node method 
	 * @method unwrap
	 * @chainable
	 *&#x2F;
			&#x27;setX&#x27;, &#x27;setXY&#x27;, &#x27;setY&#x27;, &#x27;simulate&#x27;, &#x27;swapXY&#x27;, &#x27;toggleClass&#x27;, &#x27;wrap&#x27;, &#x27;unwrap&#x27;], NodeDeferred.importMethod);
	
	Y.Plugin.NodeDeferred = NodeDeferred;
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
