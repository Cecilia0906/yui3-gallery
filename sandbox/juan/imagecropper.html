<!DOCTYPE html>
<html>
<head>
	<title>ImageCropper test</title>
	<link rel="stylesheet" href="https://github.com/juandopazo/yui3-gallery/raw/imagecropper/src/gallery-imagecropper/css/gallery-imagecropper.css">
</head>
<body>
	<script src="http://yui.yahooapis.com/combo?3.3.0/build/yui/yui-min.js&3.3.0/build/loader/loader-min.js"></script>
	<script>
YUI({
	modules: {
		'gallery-imagecropper': {
			fullpath: 'http://juandopazo.github.com/yui3-gallery/build/gallery-imagecropper/gallery-imagecropper.js',
			requires: ['resize', 'widget']
		}
	}
}).use('yql', 'gallery-imagecropper', function (Y) {
	
	Y.random = function (limit) {
		return Math.floor(Math.random() * limit);
	};
	
	Y.YQL('select * from flickr.photos.interestingness limit 10', function (response) {
		
		var photo = response.query.results.photo[Y.random(10)];
	
		var img = Y.Node.create('<img src="http://farm' + photo.farm + '.static.flickr.com/' + photo.server + '/' + photo.id + '_' + photo.secret + '.jpg"/>')
					.appendTo(document.body);
		
		var imagecropper = new Y.ImageCropper({
			srcNode: img
		});
		imagecropper.render();
		
	});
	
});
	</script>
</body>
</html>